# æ”¿åºœæ•ˆèƒ½ç£æŸ¥ç³»ç»Ÿ

ä¸€ä¸ªç°ä»£åŒ–çš„æ”¿åºœæ•ˆèƒ½ç£æŸ¥ç®¡ç†ç³»ç»Ÿï¼ŒåŸºäº FastAPI + React + TypeScript æ„å»ºï¼Œæ”¯æŒç£åŠäº‹é¡¹ç®¡ç†ã€å·¥ä½œæµå®¡æ‰¹ã€ç›‘æ§é¢„è­¦å’Œç»Ÿè®¡åˆ†æç­‰åŠŸèƒ½ã€‚

## ğŸš€ é¡¹ç›®ç‰¹æ€§

- **ç£åŠäº‹é¡¹ç®¡ç†**ï¼šåˆ›å»ºã€ç¼–è¾‘ã€è·Ÿè¸ªæ”¿åºœç£åŠäº‹é¡¹
- **å·¥ä½œæµå¼•æ“**ï¼šæ”¯æŒè‡ªå®šä¹‰å®¡æ‰¹æµç¨‹å’Œä»»åŠ¡åˆ†é…
- **ç›‘æ§é¢„è­¦**ï¼šå®æ—¶ç›‘æ§ç£åŠè¿›åº¦ï¼Œè‡ªåŠ¨é¢„è­¦é€¾æœŸäº‹é¡¹
- **ç»Ÿè®¡åˆ†æ**ï¼šå¤šç»´åº¦æ•°æ®åˆ†æå’Œå¯è§†åŒ–å›¾è¡¨
- **ç”¨æˆ·æƒé™ç®¡ç†**ï¼šåŸºäºè§’è‰²çš„æƒé™æ§åˆ¶ç³»ç»Ÿ
- **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯è®¿é—®

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **FastAPI**: ç°ä»£é«˜æ€§èƒ½ Python Web æ¡†æ¶
- **SQLAlchemy 2.0**: ORM æ•°æ®åº“æ“ä½œ
- **Alembic**: æ•°æ®åº“è¿ç§»å·¥å…·
- **Pydantic**: æ•°æ®éªŒè¯å’Œåºåˆ—åŒ–
- **JWT**: ç”¨æˆ·è®¤è¯å’Œæˆæƒ
- **PostgreSQL**: ä¸»æ•°æ®åº“ï¼ˆæ”¯æŒ SQLite å¼€å‘ï¼‰

### å‰ç«¯
- **React 18**: ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨çš„ JavaScript
- **Antd**: ä¼ä¸šçº§ UI ç»„ä»¶åº“
- **React Query**: æ•°æ®è·å–å’Œç¼“å­˜
- **Zustand**: è½»é‡çº§çŠ¶æ€ç®¡ç†
- **React Router**: å®¢æˆ·ç«¯è·¯ç”±
- **ECharts**: æ•°æ®å¯è§†åŒ–å›¾è¡¨

### åŸºç¡€è®¾æ–½
- **Docker**: å®¹å™¨åŒ–éƒ¨ç½²
- **Nginx**: åå‘ä»£ç†å’Œé™æ€æ–‡ä»¶æœåŠ¡
- **Docker Compose**: æœåŠ¡ç¼–æ’

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- Python >= 3.9
- Docker (å¯é€‰)

### æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/huahua9185/ducha.git
cd ducha
```

2. **å¯åŠ¨åç«¯æœåŠ¡**
```bash
cd backend
pip install -r requirements.txt
python run_simple.py
```

3. **å¯åŠ¨å‰ç«¯æœåŠ¡**
```bash
cd frontend
npm install
npm start
```

4. **è®¿é—®åº”ç”¨**
- å‰ç«¯: http://localhost:3001
- åç«¯ API: http://localhost:8000
- API æ–‡æ¡£: http://localhost:8000/docs

### Docker éƒ¨ç½²

```bash
# ä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬å¿«é€Ÿå¯åŠ¨
docker-compose -f docker-compose.simple.yml up -d

# æˆ–ä½¿ç”¨å®Œæ•´ç‰ˆæœ¬
docker-compose up -d
```

## ğŸ”‘ é»˜è®¤ç™»å½•è´¦æˆ·

- ç®¡ç†å‘˜: `admin` / `admin123456`
- ç£æŸ¥å‘˜: `supervisor` / `sup123456`
- éƒ¨é—¨ä¸»ä»»: `manager1` / `mgr123456`
- æ™®é€šç”¨æˆ·: `user1` / `user123456`
- **ç¼“å­˜**: Redis

## æ ¸å¿ƒåŠŸèƒ½

### 1. ç£åŠäº‹é¡¹ç®¡ç†
- äº‹é¡¹åˆ›å»ºã€åˆ†ç±»ã€åˆ†è§£
- è´£ä»»åˆ†é…å’Œæ—¶é™è®¾å®š
- å…¨ç”Ÿå‘½å‘¨æœŸè·Ÿè¸ª

### 2. æµç¨‹ç®¡æ§
- æ ‡å‡†åŒ–ç£åŠæµç¨‹
- åº”æ€¥ç£åŠæœºåˆ¶
- é‡ç‚¹ç£åŠç®¡ç†

### 3. ååŒåŠç†
- å¤šéƒ¨é—¨åä½œ
- ä¿¡æ¯å…±äº«
- æ²Ÿé€šåè°ƒ

### 4. ç›‘æ§é¢„è­¦
- æ™ºèƒ½ç›‘æ§ä½“ç³»
- å››çº§é¢„è­¦æœºåˆ¶
- è‡ªåŠ¨åŒ–å¤„ç†

### 5. æ•°æ®åˆ†æä¸å†³ç­–æ”¯æŒ
- å¤šç»´æ•ˆèƒ½åˆ†æ
- æ•°æ®å¯è§†åŒ–
- AIæ™ºèƒ½å†³ç­–è¾…åŠ©

### 6. è§’è‰²æƒé™ç®¡ç†
- åˆ†å±‚åˆ†çº§æƒé™
- ç»„ç»‡æ¶æ„æ˜ å°„
- å®‰å…¨è®¿é—®æ§åˆ¶

## é¡¹ç›®ç»“æ„

```
ducha/
â”œâ”€â”€ backend/                # FastAPI åç«¯
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/           # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ core/          # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ db/            # æ•°æ®åº“é…ç½®
â”‚   â”‚   â”œâ”€â”€ models/        # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ schemas/       # Pydantic æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ services/      # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ alembic/           # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ frontend/              # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ services/      # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ types/         # TypeScript ç±»å‹
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml     # Docker Compose é…ç½®
â”œâ”€â”€ nginx.conf            # Nginx é…ç½®
â””â”€â”€ README.md
```

## å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨ Docker Compose å¯åŠ¨

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd ducha

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps
```

### æœ¬åœ°å¼€å‘

#### åç«¯å¼€å‘
```bash
cd backend
pip install -r requirements.txt
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

#### å‰ç«¯å¼€å‘
```bash
cd frontend
npm install
npm start
```

## æœåŠ¡ç«¯å£

- å‰ç«¯åº”ç”¨: http://localhost:3000
- åç«¯API: http://localhost:8000
- APIæ–‡æ¡£: http://localhost:8000/docs
- PostgreSQL: localhost:5432
- Redis: localhost:6379

## ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` æ–‡ä»¶ä¸º `.env` å¹¶ä¿®æ”¹ç›¸åº”é…ç½®ï¼š

```bash
# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql://postgres:password@db:5432/ducha_db

# Redisé…ç½®
REDIS_URL=redis://redis:6379

# JWTå¯†é’¥
SECRET_KEY=your-secret-key

# å…¶ä»–é…ç½®...
```

## API æ–‡æ¡£

ç³»ç»Ÿå¯åŠ¨åè®¿é—® http://localhost:8000/docs æŸ¥çœ‹å®Œæ•´çš„ API æ–‡æ¡£ã€‚

## éƒ¨ç½²è¯´æ˜

è¯¦ç»†éƒ¨ç½²è¯´æ˜è¯·å‚è€ƒ `docs/deployment.md`

## å¼€å‘æŒ‡å—

## ğŸ“ é¡¹ç›®ç»“æ„

```
ducha/
â”œâ”€â”€ backend/                 # FastAPI åç«¯
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/            # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ core/           # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ db/             # æ•°æ®åº“é…ç½®
â”‚   â”‚   â”œâ”€â”€ models/         # SQLAlchemy æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ schemas/        # Pydantic æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ alembic/            # æ•°æ®åº“è¿ç§»
â”‚   â””â”€â”€ requirements.txt    # Python ä¾èµ–
â”œâ”€â”€ frontend/               # React å‰ç«¯
â”‚   â”œâ”€â”€ public/             # é™æ€èµ„æº
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/       # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ store/          # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ types/          # TypeScript ç±»å‹
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ package.json        # Node.js ä¾èµ–
â”œâ”€â”€ scripts/                # éƒ¨ç½²å’Œå·¥å…·è„šæœ¬
â”œâ”€â”€ docker-compose.yml      # Docker ç¼–æ’æ–‡ä»¶
â””â”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ åŠŸèƒ½æ¨¡å—

### 1. ç£åŠäº‹é¡¹ç®¡ç†
- åˆ›å»ºå’Œç¼–è¾‘ç£åŠäº‹é¡¹
- è®¾ç½®è´£ä»»éƒ¨é—¨å’Œè´£ä»»äºº
- è·Ÿè¸ªå®Œæˆè¿›åº¦å’Œè´¨é‡è¯„ä¼°
- æ”¯æŒå¤šç§ç£åŠç±»å‹ï¼ˆå¸¸è§„ã€é‡ç‚¹ã€ä¸“é¡¹ã€åº”æ€¥ï¼‰

### 2. å·¥ä½œæµç®¡ç†
- å¯è§†åŒ–å·¥ä½œæµè®¾è®¡å™¨
- çµæ´»çš„å®¡æ‰¹èŠ‚ç‚¹é…ç½®
- å¹¶è¡Œå’Œä¸²è¡Œä»»åŠ¡æ”¯æŒ
- ä»»åŠ¡è‡ªåŠ¨åˆ†é…å’Œæé†’

### 3. ç›‘æ§é¢„è­¦
- å®æ—¶è¿›åº¦ç›‘æ§
- è‡ªåŠ¨é€¾æœŸé¢„è­¦
- å·¥ä½œè´Ÿè½½åˆ†æ
- è´¨é‡é—®é¢˜è¯†åˆ«

### 4. ç»Ÿè®¡åˆ†æ
- å®Œæˆç‡ç»Ÿè®¡
- éƒ¨é—¨æ•ˆèƒ½å¯¹æ¯”
- è¶‹åŠ¿åˆ†æå›¾è¡¨
- å¯¼å‡ºæ•°æ®æŠ¥å‘Š

### 5. ç”¨æˆ·æƒé™
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- éƒ¨é—¨çº§åˆ«æƒé™ç®¡ç†
- æ“ä½œæ—¥å¿—è®°å½•
- å®‰å…¨å®¡è®¡åŠŸèƒ½

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-12-01)
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- åŸºç¡€ç£åŠäº‹é¡¹ç®¡ç†åŠŸèƒ½
- ç”¨æˆ·è®¤è¯å’Œæƒé™ç³»ç»Ÿ
- åŸºç¡€å·¥ä½œæµå¼•æ“
- ç›‘æ§é¢„è­¦åŠŸèƒ½
- ç»Ÿè®¡åˆ†ææ¨¡å—

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æº

## ğŸ†˜ æ”¯æŒ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ [Issue](https://github.com/huahua9185/ducha/issues)
- æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£è·å–æ›´å¤šä¿¡æ¯

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œä½¿ç”¨è€…ï¼

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼
